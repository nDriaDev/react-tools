import{r as c,j as u}from"./index-pQr8QGpH.js";const m=(e,o,n=!1)=>{if(!n||typeof requestAnimationFrame>"u")return{id:setTimeout(e,o)};const t={id:0},s=new Date().getTime(),r=()=>{const i=new Date().getTime();console.log(((i-s)/1e3).toFixed(0)),i-s>=o?e():t.id=requestAnimationFrame(r)};return t.id=requestAnimationFrame(r),t},l=(e,o=!1)=>{if(!o||typeof cancelAnimationFrame>"u")return clearTimeout(e.id);cancelAnimationFrame(e.id)},f=(e,o)=>{const n=c.useRef({id:0}),t=c.useRef(o),s=c.useCallback((...d)=>{l(n.current,t.current.focusedWindow),n.current=m(()=>e(...d),t.current.delay,t.current.focusedWindow)},[e]),r=c.useCallback(()=>{l(n.current,t.current.focusedWindow)},[]),i=c.useCallback((...d)=>{l(n.current,t.current.focusedWindow),e(...d)},[e]);return[s,r,i]},b=()=>{const[e,o]=c.useState(""),[n,t]=c.useState(!0),[s,r,i]=f(c.useCallback(a=>o(a.target.value),[]),{delay:1e3}),d=c.useCallback(a=>{n?s(a):i(a)},[s,i,n]);return u.jsxs("div",{children:[u.jsxs("p",{children:["State is: ",e]}),u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"auto auto auto",justifyContent:"center",gap:50},children:[u.jsx("input",{type:"text",onChange:d}),u.jsx("button",{onClick:r,children:"Cancel"}),u.jsx("button",{onClick:()=>t(a=>!a),children:n?"Active immediate":"Active debounced"})]})]})};export{b as UseDebounce};
