import{r as a,j as m}from"./index-l4CN14w3.js";import{u as x}from"./useEventListener-2SS6fS7f.js";import{u as I}from"./useReducedMotion-bffytGv1.js";import"./useMemoizedFn-6cAjWxCw.js";import"./useMediaQuery-X9wji00r.js";import"./useSyncExternalStore-L9x8hRZ1.js";function M(e){return-(Math.cos(Math.PI*e)-1)/2}function T(e,r){const o=r==="x"?"scrollLeft":"scrollTop";return(e?e[o]:document.body[o]+document.documentElement[o])??0}function A(e,r,o,s,u){if(!r)return 0;const n=(o||document.body).getBoundingClientRect(),c=r.getBoundingClientRect(),d=t=>c[t]-n[t];if(e==="y"){const t=d("top");if(t===0)return 0;if(s==="start")return t-u;const i=o?n.height:window.innerHeight;return s==="end"?t+u-i+c.height:s==="center"?t-i/2+c.height/2:0}else{const t=d("left");if(t===0)return 0;if(s==="start")return t-u;const i=o?n.width:window.innerWidth;return s==="end"?t+u-i+c.width:s==="center"?t-i/2+c.width/2:0}}const H=({duration:e=1e3,axis:r="y",animation:o=M,offset:s=0,cancelable:u=!1,onFinish:p,scrollableElement:n})=>{const c=a.useRef(),d=a.useRef(0),t=a.useRef(!1),i=a.useRef(null),f=I(),h=a.useCallback(()=>c.current&&cancelAnimationFrame(c.current),[]),R=a.useCallback(()=>u&&(t.current=!0),[u]);x({type:"wheel",listener:R,listenerOpts:{passive:!0}}),x({type:"touchmove",listener:R,listenerOpts:{passive:!0}});const S=a.useCallback((j="start")=>{t.current=!1,h();const l=typeof n=="function"?n():n!=null&&n.current?n.current:n,C=T(l,r),P=A(r,i.current,l,j,s);function y(){d.current===0&&(d.current=performance.now());const k=performance.now()-d.current,v=f||e===0?1:k/e,w=C+P*o(v),g=r==="x"?"scrollLeft":"scrollTop";l?l[g]=w:(document.body[g]=w,document.documentElement[g]=w),!t.current&&v<1?c.current=requestAnimationFrame(y):(p&&p(),d.current=0,c.current=void 0,h())}y()},[o,r,h,e,s,p,f,n]);return{targetRef:i,scroll:S,cancel:h}},F=()=>{const{scroll:e,targetRef:r}=H({scrollableElement:()=>document.querySelector(".container")});return m.jsxs("div",{children:[m.jsx("button",{onClick:()=>e("start"),children:"Scroll to target"}),m.jsx("div",{style:{width:"100%",height:"50vh"}}),m.jsx("p",{ref:r,children:"Hello there"})]})};export{F as UseScrollIntoView};
