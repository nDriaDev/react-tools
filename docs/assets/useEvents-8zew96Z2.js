import{r}from"./index-l3csZOL-.js";class a extends EventTarget{constructor(){super()}dispatch(t){this.dispatchEvent(t)}listen(t,s,e){return this.addEventListener(t,s,e),()=>{this.removeEventListener(t,s,e)}}}const u=new a,h=()=>{const n=r.useRef([]),t=r.useRef((e,i,o)=>{const c=u.listen(e,i,o);return n.current.push(c),c}),s=r.useRef(e=>{u.dispatch(e)});return r.useEffect(()=>()=>{n.current.forEach(e=>e())},[]),[t.current,s.current]};export{h as u};
