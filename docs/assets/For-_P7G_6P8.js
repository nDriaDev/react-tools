import{r as o,j as e}from"./index-t7AdqrYD.js";const u=o.memo(({of:s,children:l,filter:r,map:m,sort:n,elementKey:t,fallback:d})=>{if(s.length===0)return e.jsx(e.Fragment,{children:d});let a=n?n===!0?s.sort():s.sort(n):s;return a=r?a.filter(r):a,a=m?a.map(m):a,e.jsx(e.Fragment,{children:a.map((i,c)=>{const N=t?typeof t=="function"?t(i):typeof i=="object"&&i!==null&&t in i?i[t]:t:c,f=l(i,c,N);return o.isValidElement(f)?o.cloneElement(f,{key:N}):null})})}),p=o.memo(({index:s,firstName:l,lastName:r})=>(console.log("P render"),e.jsxs("p",{children:[s,": ",l," - ",r]})));function h(){const[s,l]=o.useState([{id:"1",firstName:"firstName1",lastName:"lastName1"},{id:"2",firstName:"firstName2",lastName:"lastName2"},{id:"3",firstName:"firstName3",lastName:"lastName3"}]);return o.useEffect(()=>{const r=setInterval(()=>{l(m=>{const n=Math.random()>.5;console.log(n?"added":"removed");const t=Math.max(0,...m.map(d=>Number(d.id)))+1;return n?[{id:""+t,firstName:"firstName"+t,lastName:"lastName"+t},...m]:m.filter((d,a)=>a!==0)})},3500);return()=>{clearInterval(r)}},[]),e.jsx(e.Fragment,{children:e.jsx(u,{of:s,elementKey:"id",children:(r,m,n)=>e.jsx(p,{index:n,firstName:r.firstName,lastName:r.lastName})})})}export{h as default};
