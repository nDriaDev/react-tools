import{r as e,j as p}from"./index-deJv3IYI.js";const v=(u,{duration:i=1e3,normalPress:o,onStart:c,onFinish:r})=>{const s=e.useRef(),l=e.useRef(),n=e.useRef(!1),a=e.useRef(),f=e.useCallback(()=>{clearTimeout(l.current),r&&r(s.current),!n.current&&o&&o(s.current)},[o,r]),C=e.useCallback(t=>{n.current=!1,s.current=t,c&&c(t),l.current=setTimeout(async()=>{n.current=!0,await u(t)},i)},[u,i,c]);return e.useCallback(t=>{var d,m;t?(t.addEventListener("pointerdown",C),t.addEventListener("pointerup",f),a.current=t):((d=a.current)==null||d.removeEventListener("pointerdown",C),(m=a.current)==null||m.removeEventListener("pointerup",f),a.current=void 0)},[C,f])},b=()=>{const[u,i]=e.useState(0),[o,c]=e.useState(0),[r,s]=e.useState(-1),l=v(()=>{i(n=>n+1),s(1)},{normalPress:()=>c(n=>n+1),onStart(){s(0)},onFinish(){s(-1)}});return p.jsxs("div",{children:[p.jsx("button",{ref:l,type:"button",style:{...r===-1?{}:{backgroundColor:r===-1?"inherit":r===0?"#8e830f":"#0b5f07"}},children:"Press me"}),p.jsxs("p",{children:["pressCounter: ",u]}),p.jsxs("p",{children:["clickCounter: ",o]})]})};export{b as UseLongPress};
