import{r,j as i}from"./index-l3csZOL-.js";const w=({keyFrames:m,immediate:f,opts:h,onCancel:a,onFinish:u,onRemove:d,onError:n})=>{const y=window&&HTMLElement&&"animate"in HTMLElement.prototype,e=r.useRef(),c=r.useRef({running:!1,runnedImmediatly:!1}),o=r.useCallback(t=>{var s,p;t?(e.current=t.animate(m,h),e.current.oncancel=function(l){c.current.running=!1,a&&a.call(this,l)},e.current.onremove=function(l){c.current.running=!1,d&&d.call(this,l)},e.current.onfinish=function(l){c.current.running=!1,u&&u.call(this,l)},c.current.playBackRate!==void 0||c.current.currentTime!==void 0?(e.current.currentTime=c.current.currentTime,e.current.updatePlaybackRate(c.current.playBackRate),c.current={running:!0,runnedImmediatly:c.current.runnedImmediatly}):!f||c.current.runnedImmediatly?(c.current.running=!1,e.current.pause()):c.current={running:!0,runnedImmediatly:!0}):(e.current&&c.current.running&&(c.current={...c.current,currentTime:(s=e.current)==null?void 0:s.currentTime,playBackRate:(p=e.current)==null?void 0:p.playbackRate}),e.current=void 0)},[f,m,h,a,u,d]),k=r.useCallback(()=>{try{e.current&&e.current.cancel()}catch(t){if(n)n(t);else throw t}},[n]),b=r.useCallback(()=>{try{e.current&&e.current.commitStyles()}catch(t){if(n)n(t);else throw t}},[n]),g=r.useCallback(()=>{try{e.current&&e.current.finish()}catch(t){if(n)n(t);else throw t}},[n]),x=r.useCallback(()=>{try{e.current&&e.current.pause()}catch(t){if(n)n(t);else throw t}},[n]),A=r.useCallback(()=>{try{e.current&&e.current.persist()}catch(t){if(n)n(t);else throw t}},[n]),C=r.useCallback(()=>{try{e.current&&e.current.play(),e.current&&(c.current.running=!0)}catch(t){if(n)n(t);else throw t}},[n]),R=r.useCallback(()=>{try{e.current&&e.current.reverse()}catch(t){if(n)n(t);else throw t}},[n]),j=r.useCallback(t=>{try{e.current&&e.current.updatePlaybackRate(t)}catch(s){if(n)n(s);else throw s}},[n]);return{isSupported:y,ref:o,playAnimation:C,pauseAnimation:x,finishAnimation:g,cancelAnimation:k,persistAnimation:A,reverseAnimation:R,commitStyles:b,updatePlaybackRate:j}},P=()=>{const{ref:m,playAnimation:f,pauseAnimation:h,finishAnimation:a,reverseAnimation:u}=w({keyFrames:[{clipPath:"circle(20% at 0% 30%)"},{clipPath:"circle(20% at 50% 80%)"},{clipPath:"circle(20% at 100% 30%)"}],immediate:!0,opts:{duration:3e3,iterations:2,direction:"alternate",easing:"cubic-bezier(0.46, 0.03, 0.52, 0.96)"}});return i.jsxs("div",{children:[i.jsx("p",{ref:m,style:{color:"#d23e49",fontSize:"3rem",lineHeight:1,fontWeight:800,display:"inline-flex",padding:"0 5rem"},children:"useAnimate"}),i.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:20},children:[i.jsx("button",{onClick:f,children:"Play"}),i.jsx("button",{onClick:h,children:"Pause"}),i.jsx("button",{onClick:u,children:"Reverse"}),i.jsx("button",{onClick:a,children:"Finish"})]})]})};export{P as UseAnimation};
