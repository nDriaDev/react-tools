import{r,j as u}from"./index-27nyValZ.js";import{u as b}from"./useSyncExternalStore-Atv6g5DE.js";const x=(i,o,a)=>{const s=r.useRef(),t=r.useRef(),l=r.useCallback(e=>{s.current&&s.current()},[o]),f=r.useCallback(e=>{var n,c;e?(t.current=e,e.addEventListener("fullscreenchange",l,{passive:!0}),e.addEventListener("webkitfullscreenchange",l,{passive:!0})):((n=t.current)==null||n.removeEventListener("fullscreenchange",l),(c=t.current)==null||c.removeEventListener("webkitfullscreenchange",l),t.current=void 0)},[l]),d=r.useCallback(async e=>{var n,c,m;await((n=t.current)!=null&&n.requestFullscreen?(c=t.current)==null?void 0:c.requestFullscreen(e):(m=t.current)==null?void 0:m.webkitRequestFullScreen(e))},[i]),F=r.useCallback(async()=>{await document.exitFullscreen()},[a]);return[b(r.useCallback(e=>(s.current=e,()=>{s.current=void 0}),[]),r.useMemo(()=>{let e=document.fullscreenElement??document.webkitFullscreenElement;return()=>{const n=document.fullscreenElement??document.webkitFullscreenElement;return e!==n&&(e=n),e!==null}},[])),f,d,F]},h=()=>{const[i,o,a,s]=x();return u.jsxs("div",{ref:o,children:[u.jsx("div",{style:{marginBottom:16},children:i?"Fullscreen":"Not fullscreen"}),u.jsxs("div",{children:[u.jsx("button",{type:"button",onClick:()=>a(),children:"enter Fullscreen"}),u.jsx("button",{type:"button",onClick:s,style:{margin:"0 8px"},children:"exit Fullscreen"})]})]})};export{h as UseFullscreen};
