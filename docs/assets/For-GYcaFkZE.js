import{j as r,r as e}from"./index-gy_8fZHQ.js";function x({of:s,elementKey:t,fallback:a,filter:o,sort:n,map:m,children:d}){if(s.length===0)return a!==void 0?r.jsx(r.Fragment,{children:a}):r.jsx(r.Fragment,{});let c=n?n===!0?s.sort():s.sort(n):s;return c=o?c.filter(o):c,r.jsx(r.Fragment,{children:c.map((i,f,h)=>{if(m!==void 0){const l=m(i,f,h),p=t?typeof t=="function"?t(l):typeof l=="object"&&l!==null&&t in l?l[t]:t:f,j=d(l,f,p);return e.isValidElement(j)?e.cloneElement(j,{key:p}):null}const u=t?typeof t=="function"?t(i):typeof i=="object"&&i!==null&&t in i?i[t]:t:f,N=d(i,f,u);return e.isValidElement(N)?e.cloneElement(N,{key:u}):null})})}const g=e.memo(({index:s,firstName:t,lastName:a})=>(console.log("P render"),r.jsxs("p",{children:[s,": ",t," - ",a]})));function F(){const[s,t]=e.useState([{id:"1",firstName:"firstName1",lastName:"lastName1"},{id:"2",firstName:"firstName2",lastName:"lastName2"},{id:"3",firstName:"firstName3",lastName:"lastName3"}]);return e.useEffect(()=>{const a=setInterval(()=>{t(o=>{const n=Math.random()>.5;console.log(n?"added":"removed");const m=Math.max(0,...o.map(d=>Number(d.id)))+1;return n?[{id:""+m,firstName:"firstName"+m,lastName:"lastName"+m},...o]:o.filter((d,c)=>c!==0)})},3500);return()=>{clearInterval(a)}},[]),r.jsx(r.Fragment,{children:r.jsx(x,{of:s,elementKey:"id",children:(a,o,n)=>r.jsx(g,{index:n,firstName:a.firstName,lastName:a.lastName})})})}export{F as default};
