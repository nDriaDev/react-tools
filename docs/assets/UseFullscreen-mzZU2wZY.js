import{r as t,j as o}from"./index-gy_8fZHQ.js";import{u as b}from"./useSyncExternalStore-HknS00eD.js";const v=(l,c,u)=>{const s=t.useRef(),n=t.useRef(),i=t.useCallback(e=>{c&&c(e),s.current&&s.current()},[c]),f=t.useCallback(e=>{var r,a;e?(n.current=e,e.addEventListener("fullscreenchange",i,{passive:!0}),e.addEventListener("webkitfullscreenchange",i,{passive:!0})):((r=n.current)==null||r.removeEventListener("fullscreenchange",i),(a=n.current)==null||a.removeEventListener("webkitfullscreenchange",i),n.current=void 0)},[i]),d=t.useCallback(async e=>{var r,a,m;l&&await l(),await((r=n.current)!=null&&r.requestFullscreen?(a=n.current)==null?void 0:a.requestFullscreen(e):(m=n.current)==null?void 0:m.webkitRequestFullScreen(e))},[l]),F=t.useCallback(async()=>{u&&await u(),await document.exitFullscreen()},[u]);return[b(t.useCallback(e=>(s.current=e,()=>{s.current=void 0}),[]),t.useMemo(()=>{let e=document.fullscreenElement??document.webkitFullscreenElement;return()=>{const r=document.fullscreenElement??document.webkitFullscreenElement;return e!==r&&(e=r),e!==null}},[])),f,d,F]},w=()=>{const[l,c,u,s]=v();return o.jsxs("div",{ref:c,children:[o.jsx("div",{style:{marginBottom:16},children:l?"Fullscreen":"Not fullscreen"}),o.jsxs("div",{children:[o.jsx("button",{type:"button",onClick:()=>u(),children:"enter Fullscreen"}),o.jsx("button",{type:"button",onClick:s,style:{margin:"0 8px"},children:"exit Fullscreen"})]})]})};export{w as UseFullscreen};
