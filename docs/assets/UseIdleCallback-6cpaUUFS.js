import{r as s,j as r}from"./index-l4CN14w3.js";const d=(a,o)=>{const{timeout:i,unsupportedBehavior:t}=o||{},n=s.useRef(),c=s.useRef(requestIdleCallback!==void 0?(e,u)=>requestIdleCallback(e,u):t?t==="immediatly"?void 0:t==="animationFrame"?e=>requestAnimationFrame(e):(e,u)=>setTimeout(e,u.timeout):()=>{}),l=s.useRef(requestIdleCallback!==void 0?cancelIdleCallback:t?t==="immediatly"?void 0:t==="animationFrame"?cancelAnimationFrame:clearTimeout:()=>{});return[s.useCallback(()=>{let e;c.current&&(e=c.current(a,{timeout:i})),n.current=e||void 0},[a,i]),s.useCallback(()=>n.current&&l.current&&l.current(n.current),[])]},k=()=>{const[a,o]=s.useState(0),[i,t]=s.useState(""),[n]=d(()=>t("RequestIdleCallback executed")),c=async()=>{n();for(let e=0;e<5e3;e++)setTimeout(()=>o(e+1),5)},l=()=>{t(""),o(0)};return r.jsxs("div",{children:[r.jsxs("p",{children:["Iterations are: ",a]}),r.jsxs("p",{children:["Log is: ",i]}),r.jsx("button",{onClick:c,children:"START"}),r.jsx("button",{onClick:l,children:"RESET"})]})};export{k as UseIdleCallback};
