import{r as c,j as r}from"./index-559a77ab.js";import{u as z}from"./useSyncExternalStore-d7963558.js";const a=new Set,E=t=>a.forEach(e=>e(t)),G=()=>{const t=c.useRef({isSupported:!!window&&"DeviceMotionEvent"in window,acceleration:null,accelerationIncludingGravity:null,interval:null,rotationRate:null}),e=c.useRef();return z(c.useCallback(n=>{const i=l=>{const{acceleration:o,accelerationIncludingGravity:u,interval:s,rotationRate:d}=l;e.current={isSupported:!0,acceleration:o,accelerationIncludingGravity:u,rotationRate:d,interval:s},n()};return window&&"DeviceMotionEvent"in window&&(a.add(i),a.size===1&&addEventListener("devicemotion",E)),()=>{window&&"DeviceMotionEvent"in window&&(a.delete(i),a.size===0&&window.removeEventListener("devicemotion",E))}},[]),c.useCallback(()=>{var n,i,l,o,u,s,d,v,x,p,g,h,j,m,R,f,w,b;return e.current&&(t.current.isSupported!==e.current.isSupported||((n=t.current.acceleration)==null?void 0:n.x)!==((i=e.current.acceleration)==null?void 0:i.x)||((l=t.current.acceleration)==null?void 0:l.y)!==((o=e.current.acceleration)==null?void 0:o.y)||((u=t.current.acceleration)==null?void 0:u.z)!==((s=e.current.acceleration)==null?void 0:s.z)||((d=t.current.accelerationIncludingGravity)==null?void 0:d.x)!==((v=e.current.accelerationIncludingGravity)==null?void 0:v.x)||((x=t.current.accelerationIncludingGravity)==null?void 0:x.y)!==((p=e.current.accelerationIncludingGravity)==null?void 0:p.y)||((g=t.current.accelerationIncludingGravity)==null?void 0:g.z)!==((h=e.current.accelerationIncludingGravity)==null?void 0:h.z)||((j=t.current.rotationRate)==null?void 0:j.alpha)!==((m=e.current.rotationRate)==null?void 0:m.alpha)||((R=t.current.rotationRate)==null?void 0:R.beta)!==((f=e.current.rotationRate)==null?void 0:f.beta)||((w=t.current.rotationRate)==null?void 0:w.gamma)!==((b=e.current.rotationRate)==null?void 0:b.gamma)||t.current.interval!==e.current.interval)&&(t.current=e.current),t.current},[]))},y=()=>{const t=G();return r.jsx("div",{style:{textAlign:"center"},children:Object.keys(t).map(e=>{const n=t[e];return n!==null&&typeof n=="object"&&Reflect.get(n,"x")?r.jsxs(c.Fragment,{children:[r.jsxs("p",{children:[e,":"]}),r.jsxs("ul",{children:[r.jsxs("li",{children:["x: ",Reflect.get(t[e],"x")]}),r.jsxs("li",{children:["y: ",Reflect.get(t[e],"y")]}),r.jsxs("li",{children:["z: ",Reflect.get(t[e],"z")]})]})]},e):n!==null&&typeof n=="object"&&Reflect.get(n,"alpha")?r.jsxs(c.Fragment,{children:[r.jsxs("p",{children:[e,":"]}),r.jsxs("ul",{children:[r.jsxs("li",{children:["alpha: ",Reflect.get(t[e],"alpha")]}),r.jsxs("li",{children:["beta: ",Reflect.get(t[e],"beta")]}),r.jsxs("li",{children:["gamma: ",Reflect.get(t[e],"gamma")]})]})]},e):r.jsxs("p",{children:[e,": ",n!==null?n.toString():""]},e)})})};export{y as UseDeviceMotion};
