import{r as n,j as t}from"./index-K3kjPFtB.js";const a=(r,o)=>{const e=n.useRef(),s=n.useCallback((...u)=>{clearTimeout(e.current),e.current=setTimeout(()=>r(...u),o)},[r,o]),c=n.useCallback((...u)=>(clearTimeout(e.current),new Promise(i=>{e.current=setTimeout(()=>{i(r(...u))},o)})),[r,o]),l=n.useCallback(()=>{clearTimeout(e.current)},[]);return n.useEffect(()=>{clearTimeout(e.current)},[]),[s,l,c]},p=()=>{const[r,o]=n.useState(0),[e,s]=n.useState(1e3),[c,l,u]=a(()=>o(i=>i+1),e);return t.jsxs("div",{style:{display:"grid",gridTemplateRows:"auto auto auto",justifyContent:"center",gap:50},children:[t.jsxs("p",{children:["Count: ",r]}),t.jsxs("p",{children:["Delay: ",e]}),t.jsxs("div",{style:{display:"grid",gridTemplateRows:"auto auto",gridTemplateColumns:"auto auto auto",justifyContent:"center",gap:50},children:[t.jsx("button",{onClick:c,children:"Increment count"}),t.jsx("button",{onClick:l,children:"Clear Timeout"}),t.jsx("button",{onClick:async()=>u().then(()=>s(1e3)),children:"Increment promisy"}),t.jsx("button",{onClick:()=>s(i=>i+1e3),children:"Increment delay"}),t.jsx("button",{onClick:()=>s(()=>1e3),children:"Clear delay"})]})]})};export{p as UseTimeout};
