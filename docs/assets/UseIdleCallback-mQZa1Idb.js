import{r as s,j as n}from"./index-deJv3IYI.js";const m=(i,o)=>{const{timeout:a,unsupportedBehavior:t}=o||{},u="requestIdleCallback"in window,r=s.useRef(),c=s.useRef("requestIdleCallback"in window?(e,d)=>requestIdleCallback(e,d):t?t==="immediatly"?void 0:t==="animationFrame"?e=>requestAnimationFrame(e):(e,d)=>setTimeout(e,d.timeout):()=>{}),l=s.useRef("requestIdleCallback"in window?cancelIdleCallback:t?t==="immediatly"?void 0:t==="animationFrame"?cancelAnimationFrame:clearTimeout:()=>{});return[u,s.useCallback(()=>{let e;c.current&&(e=c.current(i,{timeout:a})),r.current=e||void 0},[i,a]),s.useCallback(()=>r.current&&l.current&&l.current(r.current),[])]},k=()=>{const[i,o]=s.useState(0),[a,t]=s.useState(""),[u,r]=m(()=>t("RequestIdleCallback executed")),c=async()=>{r();for(let e=0;e<5e3;e++)setTimeout(()=>o(e+1),5)},l=()=>{t(""),o(0)};return n.jsxs("div",{children:[n.jsxs("p",{children:["Supported: ",u?"Yes":"No"]}),n.jsxs("p",{children:["Iterations are: ",i]}),n.jsxs("p",{children:["Log is: ",a]}),n.jsx("button",{onClick:c,children:"START"}),n.jsx("button",{onClick:l,children:"RESET"})]})};export{k as UseIdleCallback};
