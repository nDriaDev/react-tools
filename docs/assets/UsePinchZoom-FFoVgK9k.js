import{r,j as a}from"./index-vpxvYiBV.js";import{u}from"./useEventListener-fT8bqR5j.js";import"./useMemoizedFn-mCfFDcI4.js";const d=({target:t=window,listener:s})=>{const e=r.useRef([]),c=r.useRef(-1),o=r.useRef([]),p=r.useRef(n=>{e.current.push(n)}),l=r.useRef(n=>{const f=e.current.findIndex(i=>i.pointerId===n.pointerId);e.current.splice(f,1),e.current.length<2&&(c.current=-1)}),m=r.useCallback(n=>{const f=e.current.findIndex(i=>i.pointerId===n.pointerId);if(e.current[f]=n,e.current.length===2){const i=Math.abs(e.current[0].clientX-e.current[1].clientX);c.current>0&&(i>c.current&&s(n,"zoomIn"),i<c.current&&s(n,"zoomOut")),c.current=i}},[s]);return o.current[0]=u({type:"pointerdown",listener:p.current,effectType:"normal",element:t}),o.current[1]=u({type:"pointermove",listener:m,effectType:"normal",element:t}),o.current[2]=u({type:"pointerup",listener:l.current,effectType:"normal",element:t}),o.current[3]=u({type:"pointercancel",listener:l.current,effectType:"normal",element:t}),o.current[4]=u({type:"pointerout",listener:l.current,effectType:"normal",element:t}),o.current[5]=u({type:"pointerleave",listener:l.current,effectType:"normal",element:t}),r.useCallback(()=>{o.current.forEach(n=>n())},[])},I=()=>{const[t,s]=r.useState(""),e=r.useRef(null),c=r.useCallback((o,p)=>{s(p==="zoomIn"?"Zooming in...":"Zooming out...")},[]);return d({listener:c,target:e}),a.jsx("div",{ref:e,style:{margin:"0 auto",width:300,height:300,overflow:"auto",resize:"both",border:"1px solid lightblue"},children:t})};export{I as UsePinchZoom};
