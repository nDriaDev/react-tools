import{j as i,r as e}from"./index-7iLlK_Uu.js";function j({of:a,elementKey:t,fallback:r,filter:n,sort:s,map:l,children:d}){if(a.length===0)return r!==void 0?i.jsx(i.Fragment,{children:r}):null;let m=s?s===!0?a.sort():a.sort(s):a;return m=n?m.filter(n):m,m.map((o,u,x)=>{if(l!==void 0){const c=l(o,u,x),p=t?typeof t=="function"?t(c):typeof c=="object"&&c!==null&&t in c?c[t]:t:u,h=d(c,u,p);return e.isValidElement(h)?e.cloneElement(h,{key:p}):null}const f=t?typeof t=="function"?t(o):typeof o=="object"&&o!==null&&t in o?o[t]:t:u,N=d(o,u,f);return e.isValidElement(N)?e.cloneElement(N,{key:f}):null})}j.displayName="For";const E=e.memo(({index:a,firstName:t,lastName:r})=>(console.log("P render"),i.jsxs("p",{children:[a,": ",t," - ",r]})));function v(){const[a,t]=e.useState([{id:"1",firstName:"firstName1",lastName:"lastName1"},{id:"2",firstName:"firstName2",lastName:"lastName2"},{id:"3",firstName:"firstName3",lastName:"lastName3"}]);return e.useEffect(()=>{const r=setInterval(()=>{t(n=>{const s=Math.random()>.5;console.log(s?"added":"removed");const l=Math.max(0,...n.map(d=>Number(d.id)))+1;return s?[{id:""+l,firstName:"firstName"+l,lastName:"lastName"+l},...n]:n.filter((d,m)=>m!==0)})},3500);return()=>{clearInterval(r)}},[]),i.jsx(i.Fragment,{children:i.jsx(j,{of:a,elementKey:"id",children:(r,n,s)=>i.jsx(E,{index:s,firstName:r.firstName,lastName:r.lastName})})})}export{v as default};
