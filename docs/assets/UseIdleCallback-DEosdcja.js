import{r as s,j as n}from"./index-27nyValZ.js";const m=(o,l)=>{const{timeout:i,unsupportedBehavior:t}={},u="requestIdleCallback"in window,r=s.useRef(),a=s.useRef("requestIdleCallback"in window?(e,d)=>requestIdleCallback(e,d):t?t==="immediatly"?void 0:t==="animationFrame"?e=>requestAnimationFrame(e):(e,d)=>setTimeout(e,d.timeout):()=>{}),c=s.useRef("requestIdleCallback"in window?cancelIdleCallback:t?t==="immediatly"?void 0:t==="animationFrame"?cancelAnimationFrame:clearTimeout:()=>{});return[u,s.useCallback(()=>{let e;a.current&&(e=a.current(o,{timeout:i})),r.current=e||void 0},[o,i]),s.useCallback(()=>r.current&&c.current&&c.current(r.current),[])]},k=()=>{const[o,l]=s.useState(0),[i,t]=s.useState(""),[u,r]=m(()=>t("RequestIdleCallback executed")),a=async()=>{r();for(let e=0;e<5e3;e++)setTimeout(()=>l(e+1),5)},c=()=>{t(""),l(0)};return n.jsxs("div",{children:[n.jsxs("p",{children:["Supported: ",u?"Yes":"No"]}),n.jsxs("p",{children:["Iterations are: ",o]}),n.jsxs("p",{children:["Log is: ",i]}),n.jsx("button",{onClick:a,children:"START"}),n.jsx("button",{onClick:c,children:"RESET"})]})};export{k as UseIdleCallback};
