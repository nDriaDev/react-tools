import{r as c,j as i}from"./index-d1B4j_sD.js";import{u as d}from"./useMemoizedFn-wdP-1WRe.js";const f=(r,l)=>{const n=c.useRef(),[e,a]=c.useState(()=>{let t;r instanceof Function?t=r():t=r;let s={};return!Array.isArray(t)&&!(t instanceof Date)&&!(t instanceof RegExp)&&typeof t=="object"?Reflect.ownKeys(t).forEach(u=>{Reflect.set(s,u,{invalid:!1})}):s={invalid:!1},n.current=s,{state:t,validation:s}}),m=d(t=>{const s=t instanceof Function?t(e.state):t,o=l(s,JSON.parse(JSON.stringify(n.current)));a({state:s,validation:o})});return[e.state,m,e.validation]},p=()=>{const[r,l,n]=f({name:"",email:""},(e,a)=>(e.name.length>10&&(a.name.invalid=!0,a.name.message="Max Length 10 characters"),e.email.includes("@")||(a.email.invalid=!0,a.email.message="@ is missing"),a));return i.jsxs("div",{children:[i.jsxs("div",{style:{display:"flex",flexDirection:"column",width:"fit-content",margin:"0 auto"},children:[i.jsx("input",{type:"text",name:"name",value:r.name,onChange:e=>l(a=>({...a,[e.target.name]:e.target.value}))}),n.name.invalid&&i.jsx("span",{style:{color:"red"},children:n.name.message})]}),i.jsxs("div",{style:{display:"flex",flexDirection:"column",width:"fit-content",margin:"0 auto"},children:[i.jsx("input",{type:"text",name:"email",value:r.email,onChange:e=>l(a=>({...a,[e.target.name]:e.target.value}))}),n.email.invalid&&i.jsx("span",{style:{color:"red"},children:n.email.message})]})]})};export{p as UseStateValidator};
