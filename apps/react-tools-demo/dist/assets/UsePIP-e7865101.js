import{r as o,j as c}from"./index-3465b69f.js";import{v as h}from"./mov_bbb-3a4cadaf.js";const v=({onOpen:n,onOpened:i,onClose:r,onError:e,target:t})=>{const p="pictureInPictureElement"in document,l=o.useCallback(()=>{const u=t!=null&&t.current?t.current:t;if(!("pictureInPictureElement"in document))return Promise.resolve();const P=s=>{n&&n(s)},m=s=>{r&&r(s)};return u.addEventListener("enterpictureinpicture",P,{capture:!0,once:!0}),u.requestPictureInPicture().then(s=>{i&&i(s),u.addEventListener("leavepictureinpicture",m,{capture:!0,once:!0})}).catch(s=>{if(e)e(s);else throw s})},[n,i,r,e,t]),d=o.useCallback(()=>"pictureInPictureElement"in document?document.exitPictureInPicture().catch(u=>{if(e)e(u);else throw u}):Promise.resolve(),[e]);return{isSupported:p,openPIP:l,closePIP:d}},I=()=>{const n=o.useRef(null),[i,r]=o.useState(!0),{isSupported:e,openPIP:t}=v({target:n,onOpen:()=>r(!1),onClose:()=>r(!0)});return c.jsxs("div",{children:[c.jsxs("p",{children:["Supported: ",e?"Yes":"No"]}),i&&c.jsxs(c.Fragment,{children:[c.jsxs("video",{ref:n,width:"400",controls:!0,children:[c.jsx("source",{src:h,type:"video/mp4"}),"Your browser does not support HTML video."]}),c.jsx("div",{children:c.jsx("button",{onClick:t,children:"Open PIP"})})]})]})};export{I as UsePIP};
