import{r as t}from"./index-712b8b73.js";import{u as o}from"./useEffectOnce-561f9f95.js";const R=(c,n)=>{const r=t.useRef(),s=t.useRef(!0),u=t.useRef(),f=t.useRef(c);return o(()=>()=>{var e;u.current=void 0,(e=r.current)==null||e.disconnect(),r.current=void 0}),[t.useCallback(e=>{var i;!s.current||!e||(e&&(!u.current||u.current!==e)&&(u.current=e,r.current=new ResizeObserver(c),r.current.observe(e,n)),f.current!==c&&r.current&&e&&(f.current=c,(i=r.current)==null||i.disconnect(),r.current=void 0,r.current=new ResizeObserver(c),r.current.observe(e,n)))},[c,n]),t.useCallback(()=>{s.current&&(s.current=!1,r.current&&u.current&&r.current.unobserve(u.current))},[]),t.useCallback(()=>{var e;s.current||(s.current=!0,r.current&&u.current&&((e=r.current)==null||e.observe(u.current,n)))},[n])]};export{R as u};
